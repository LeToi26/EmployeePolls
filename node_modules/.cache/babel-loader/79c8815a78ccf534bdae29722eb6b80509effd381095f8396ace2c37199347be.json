{"ast":null,"code":"import { SET_CURRENT_USER, LOGOUT_CURRENT_USER, RECEIVE_USERS, RECEIVE_QUESTIONS, CREATE_QUESTION, CREATE_QUESTION_USER, ADD_ANSWER_USER, ADD_ANSWER_QUESTION } from \"./actions\";\nconst initialState = {\n  authedUser: null,\n  users: {},\n  questions: {}\n};\nexport default function State() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        authedUser: action.authedUser\n      };\n    case LOGOUT_CURRENT_USER:\n      return {\n        ...state,\n        authedUser: null\n      };\n    case RECEIVE_USERS:\n      return {\n        ...state,\n        users: action.users\n      };\n    case RECEIVE_QUESTIONS:\n      return {\n        ...state,\n        questions: action.questions\n      };\n    case ADD_ANSWER_USER:\n      return {\n        ...state,\n        users: {\n          ...state.users,\n          [action.authedUser]: {\n            ...state.users[action.authedUser],\n            answers: {\n              ...state.users[action.authedUser].answers,\n              [action.qid]: action.answer\n            }\n          }\n        }\n      };\n    case ADD_ANSWER_QUESTION:\n      return {\n        ...state,\n        questions: {\n          ...state.questions,\n          [action.qid]: {\n            ...state.questions[action.qid],\n            [action.answer]: {\n              ...state.questions[action.qid][action.answer],\n              votes: state.questions[action.qid][action.answer].votes.concat(action.author)\n            }\n          }\n        }\n      };\n    case CREATE_QUESTION_USER:\n      return {\n        ...state,\n        users: {\n          ...state.users,\n          [action.author]: {\n            ...state.users[action.author],\n            questions: state.users[action.author].questions.concat(action.qid)\n          }\n        }\n      };\n    case CREATE_QUESTION:\n      return {\n        ...state,\n        questions: {\n          ...state.questions,\n          [action.question.id]: action.question\n        }\n      };\n    default:\n      return state;\n  }\n}\n_c = State;\nvar _c;\n$RefreshReg$(_c, \"State\");","map":{"version":3,"names":["SET_CURRENT_USER","LOGOUT_CURRENT_USER","RECEIVE_USERS","RECEIVE_QUESTIONS","CREATE_QUESTION","CREATE_QUESTION_USER","ADD_ANSWER_USER","ADD_ANSWER_QUESTION","initialState","authedUser","users","questions","State","state","arguments","length","undefined","action","type","answers","qid","answer","votes","concat","author","question","id","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Downloads/EmployeePolls/src/shared/store/reducer.ts"],"sourcesContent":["import { InitialState } from \"shared/model/poll\";\r\nimport {\r\n  SET_CURRENT_USER,\r\n  LOGOUT_CURRENT_USER,\r\n  RECEIVE_USERS,\r\n  RECEIVE_QUESTIONS,\r\n  CREATE_QUESTION,\r\n  CREATE_QUESTION_USER,\r\n  ADD_ANSWER_USER,\r\n  ADD_ANSWER_QUESTION,\r\n} from \"./actions\";\r\n\r\nconst initialState: InitialState = {\r\n  authedUser: null,\r\n  users: {},\r\n  questions: {},\r\n};\r\n\r\nexport default function State(state = initialState, action: any) {\r\n  switch (action.type) {\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        authedUser: action.authedUser,\r\n      };\r\n    case LOGOUT_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        authedUser: null,\r\n      };\r\n    case RECEIVE_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    case RECEIVE_QUESTIONS:\r\n      return {\r\n        ...state,\r\n        questions: action.questions,\r\n      };\r\n    case ADD_ANSWER_USER:\r\n      return {\r\n        ...state,\r\n        users: {\r\n          ...state.users,\r\n          [action.authedUser]: {\r\n            ...state.users[action.authedUser as keyof typeof state],\r\n            answers: {\r\n              ...state.users[action.authedUser as keyof typeof state].answers,\r\n              [action.qid]: action.answer,\r\n            },\r\n          },\r\n        },\r\n      };\r\n    case ADD_ANSWER_QUESTION:\r\n      return {\r\n        ...state,\r\n        questions: {\r\n          ...state.questions,\r\n          [action.qid]: {\r\n            ...state.questions[action.qid as keyof typeof state],\r\n            [action.answer]: {\r\n              ...state.questions[action.qid as keyof typeof state][\r\n                action.answer\r\n              ],\r\n              votes: state.questions[action.qid as keyof typeof state][\r\n                action.answer\r\n              ].votes.concat(action.author),\r\n            },\r\n          },\r\n        },\r\n      };\r\n    case CREATE_QUESTION_USER:\r\n      return {\r\n        ...state,\r\n        users: {\r\n          ...state.users,\r\n          [action.author]: {\r\n            ...state.users[action.author as keyof typeof state],\r\n            questions: state.users[\r\n              action.author as keyof typeof state\r\n            ].questions.concat(action.qid),\r\n          },\r\n        },\r\n      };\r\n    case CREATE_QUESTION:\r\n      return {\r\n        ...state,\r\n        questions: {\r\n          ...state.questions,\r\n          [action.question.id]: action.question,\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}